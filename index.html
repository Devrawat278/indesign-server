<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>InDesign Server Dashboard</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  button { margin: 5px; padding: 10px 20px; }
  #output { margin-top: 20px; white-space: pre-wrap; background: #f0f0f0; padding: 10px; }
</style>
</head>
<body>

<h1>InDesign Server Dashboard</h1>

<button onclick="exportPDF()">Export PDF</button>
<button onclick="findXMLTags()">Find XML Tags</button>
<button onclick="cleanDocument()">Clean Document</button>

<div id="output"></div>

<script>
const baseUrl = 'https://indesign-server.onrender.com'; // Replace with your Render URL

async function exportPDF() {
  const response = await fetch(`${baseUrl}/export_pdf`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ filename: 'output.pdf' })
  });
  const data = await response.json();
  showOutput(data);
}

async function findXMLTags() {
  const response = await fetch(`${baseUrl}/find_xml_tags`);
  const data = await response.json();
  showOutput(data);
}

async function cleanDocument() {
  const response = await fetch(`${baseUrl}/clean_document`, { method: 'POST' });
  const data = await response.json();
  showOutput(data);
}

function showOutput(data) {
  document.getElementById('output').textContent = JSON.stringify(data, null, 2);
}
</script>

</body>
</html>
